{"version":3,"file":"index.js","sources":["../src/reviews.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport Swiper from 'swiper';\nimport { Keyboard, Navigation } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/keyboard';\nimport 'swiper/css/navigation';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst BASE_URL = 'https://portfolio-js.b.goit.study/api/reviews';\n\nconst reviewsList = document.querySelector('.reviews-list');\n\n// Initialize swiper.js for slider\nexport function reviewsSection() {\n  const swiper = new Swiper('.swiper', {\n    direction: 'horizontal',\n    // Install modules\n    modules: [Keyboard, Navigation],\n    speed: 500,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    breakpoints: {\n      // when window width is >= 320px\n      320: {\n        slidesPerView: 1,\n        spaceBetween: 32,\n      },\n      // when window width is >= 768px\n      768: {\n        slidesPerView: 1,\n        spaceBetween: 32,\n      },\n      // when window width is >= 1280px\n      1280: {\n        slidesPerView: 2,\n        spaceBetween: 32,\n      },\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n      pageUpDown: true,\n    },\n  });\n}\n\nexport async function fetchReviews() {\n  try {\n    const response = await axios.get(`${BASE_URL}`);\n    if (response.data.length === 0) {\n      reviewsList.innerHTML = 'No reviews found.';\n    } else {\n      reviewsList.insertAdjacentHTML(\n        'beforeend',\n        renderFunction(response.data)\n      );\n    }\n  } catch (error) {\n    if (error) {\n      renderError();\n      iziToast.error({\n        title: '404 Error',\n        message: 'The requested URL was not found.',\n        position: 'bottomCenter',\n      });\n    } else {\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while loading data.',\n        position: 'bottomCenter',\n      });\n    }\n  }\n}\n\nfunction renderFunction(reviews) {\n  return reviews\n    .map(\n      ({ author, avatar_url, review, _id }) =>\n        `<li class=\"swiper-slide\" id=\"${_id}\">\n           <p class=\"card-text\">${review}</p>\n           <div class=\"card-person-info\">\n             <img class=\"card-avatar\" src=\"${avatar_url}\" alt=\"${author}\" width=\"40\" height=\"40\"/>\n             <p class=\"card-author\">${author}</p>\n           </div>\n       </li> `\n    )\n    .join('');\n}\n\nfunction renderError() {\n  const markupError = `<li class=\"swiper-slide error-styles\">\n  <h2 class=\"error-code\">404</h2>\n  <p class=\"error-text\">Not found</p>\n  </li>`;\n  reviewsList.innerHTML = markupError;\n}\n","// REVIEWS SECTION\nimport { reviewsSection, fetchReviews } from './reviews';\nreviewsSection();\nfetchReviews();\n"],"names":["BASE_URL","reviewsList","reviewsSection","Swiper","Keyboard","Navigation","fetchReviews","response","axios","renderFunction","error","renderError","iziToast","reviews","author","avatar_url","review","_id","markupError"],"mappings":"kxBASA,MAAMA,EAAW,gDAEXC,EAAc,SAAS,cAAc,eAAe,EAGnD,SAASC,GAAiB,CAChB,IAAIC,EAAO,UAAW,CACnC,UAAW,aAEX,QAAS,CAACC,EAAUC,CAAU,EAC9B,MAAO,IACP,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,YAAa,CAEX,IAAK,CACH,cAAe,EACf,aAAc,EACf,EAED,IAAK,CACH,cAAe,EACf,aAAc,EACf,EAED,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,EACD,SAAU,CACR,QAAS,GACT,eAAgB,GAChB,WAAY,EACb,CACL,CAAG,CACH,CAEO,eAAeC,GAAe,CACnC,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAI,GAAGR,CAAQ,EAAE,EAC1CO,EAAS,KAAK,SAAW,EAC3BN,EAAY,UAAY,oBAExBA,EAAY,mBACV,YACAQ,EAAeF,EAAS,IAAI,CACpC,CAEG,OAAQG,EAAO,CACVA,GACFC,IACAC,EAAS,MAAM,CACb,MAAO,YACP,QAAS,mCACT,SAAU,cAClB,CAAO,GAEDA,EAAS,MAAM,CACb,MAAO,QACP,QAAS,wCACT,SAAU,cAClB,CAAO,CAEJ,CACH,CAEA,SAASH,EAAeI,EAAS,CAC/B,OAAOA,EACJ,IACC,CAAC,CAAE,OAAAC,EAAQ,WAAAC,EAAY,OAAAC,EAAQ,IAAAC,CAAK,IAClC,gCAAgCA,CAAG;AAAA,kCACTD,CAAM;AAAA;AAAA,6CAEKD,CAAU,UAAUD,CAAM;AAAA,sCACjCA,CAAM;AAAA;AAAA,cAGvC,EACA,KAAK,EAAE,CACZ,CAEA,SAASH,GAAc,CACrB,MAAMO,EAAc;AAAA;AAAA;AAAA,SAIpBjB,EAAY,UAAYiB,CAC1B,CCjGAhB,IACAI,EAAc"}